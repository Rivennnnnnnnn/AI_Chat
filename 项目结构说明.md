# AI_Chat 项目结构说明

本项目是一个基于 Go 语言和 React 开发的全栈 AI 聊天应用。后端采用典型的 Go 项目布局，实现业务逻辑、数据模型和工具库的分离；前端基于 Vite + React + Tailwind CSS 构建。

## 目录结构

```text
AI_Chat/
├── configs/            # 配置文件目录 (MySQL, Redis, Chat API 等)
├── docs/               # 项目文档 (包含接口文档 API_Doc.md)
├── frontend/           # 前端项目 (React + TypeScript + Vite)
│   ├── src/
│   │   ├── pages/      # 页面组件 (登录、注册、聊天)
│   │   ├── services/   # API 请求封装
│   │   └── store/      # 状态管理 (Zustand)
├── internal/           # 后端核心业务逻辑
│   ├── app/            # 应用启动及路由初始化
│   ├── chat_core/      # AI 聊天核心逻辑 (接入 DeepSeek 等)
│   ├── common/         # 公共响应结构与错误码
│   ├── handler/        # 请求处理器 (Controller 层)
│   ├── middleware/     # 中间件 (鉴权、日志等)
│   ├── model/          # 数据模型 (数据库表结构实体)
│   └── repository/     # 数据访问层 (DAO 层)
├── logs/               # 应用运行日志
├── pkg/                # 公共工具库
│   ├── ai_config/      # AI 模型配置解析
│   ├── db/             # 数据库初始化 (MySQL, Redis)
│   └── utils/          # 工具函数 (雪花算法、哈希、配置加载等)
├── main.go             # 后端程序主入口
├── go.mod              # Go 依赖管理
├── test_chat.go        # 后端聊天接口测试脚本
└── 项目结构说明.md     # 本文件
```

## 主要模块说明

- **后端 (Go)**:
  - **`internal/chat_core`**: 核心聊天引擎，负责调用 AI 模型接口并处理上下文。
  - **`internal/memory`**: 记忆管理与检索逻辑（Milvus 优先，失败回退数据库）。
  - **`internal/handler`**: 处理 HTTP 请求，验证参数并调用 Repository。
  - **`internal/middleware`**: 提供基于 Session 的登录鉴权和访问日志记录。
  - **`pkg/db`**: 统一管理 MySQL 和 Redis 的连接池。

- **前端 (React)**:
  - **`ChatPage.tsx`**: 核心聊天界面，支持自动创建会话、消息实时展示。
  - **`api.ts`**: 基于 Axios 封装的统一请求接口，自动处理 Session 注入。

## 数据库设计
详见 `表结构设计/` 目录下的文档，目前包含：
- 用户基本信息表
- 聊天会话表
- 聊天消息记录表
